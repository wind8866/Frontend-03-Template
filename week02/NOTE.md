# 周总结

----
# 学习笔记
### 【预习】一个浏览器是如何工作的
渲染步骤：
1. 使用HTTP或HTTPS协议向服务端请求内容
2. 把请求来的HTML经过解析，构建成DOM树
3. 计算DOM树上的CSS属性
4. 最后根据 CSS 属性对元素逐个进行渲染，得到内存中的位图
5. 一个可选的步骤是对位图进行合成，这会极大地增加后续绘制的速度
6. 合成之后，再绘制到界面上

流式处理数据

#### 向服务端请求内容
整理了一个HTTP的思维导图: [assets/HTTP-tree.md](./assets/HTTP-tree.md)
使用TCP连接工具
```shell
telnet time.geekbang.org 80

GET / HTTP/1.1
Host: time.geekbang.org
```

#### 解析HTML，构建DOM树

**分词（token）**
接受字符流，每次读取一个字符串，使用状态机每次决策，解析成想要的词。
状态机有当前状态，每读入一个字符都去判断是否是当前状态，不是则跳转到其他状态。状态机就能将字符串分割成一个一个的词。

**构建DOM树**
使用栈，入栈，出栈

- [ ] 写一个函数，分析HTML将其拆分成DOM树，[可参考](https://github.com/aimergenge/toy-html-parser)
- [ ] 理解状态机


### 剩下的3、4、5预习
第三四五课预习对应第三四周的课程，后面再看

### 1、浏览器工作原理总论