# 周总结


----
# 学习笔记
---
对于这部分的内容，我打算使用以下步骤去还原整个浏览器的处理过程
`需求 => 知识 => 程序设计 => 实现 => 注意事项`
其中实现的或将来想要实现的在toy-browser里。

## 浏览器是如何工作的？
#### 需求
我们界定需求范围，即：从输入URL，敲击回车到用户在页面上展示，浏览器大概经过哪些步骤？
注意对于网络部分我们只讨论上层协议（应用层协议）。

#### 知识
1. 浏览器首先使用 HTTP 协议或者 HTTPS 协议，向服务端请求页面；
2. 把请求回来的 HTML 代码经过解析，构建成 DOM 树；
3. 计算 DOM 树上的 CSS 属性；
4. 最后根据 CSS 属性对元素逐个进行渲染，得到内存中的位图；
5. 一个可选的步骤是对位图进行合成，这会极大地增加后续绘制的速度；
6. 合成之后，再绘制到界面上。

#### 程序设计
上面的每个知识点都可以作为一个子需求，我们解决每一个子需求就解决了整个浏览器的渲染过程

#### 注意事项
其实浏览器的渲染过程并不是做完一步再做下一步，而是流式的去处理。并且该流程是简化过的，需要找资料看一下。

对应课程：
重学前端模块三浏览器是如何工作的模块一


## 1、浏览器首先使用 HTTP 协议或者 HTTPS 协议，向服务端请求页面
#### 需求
如果模拟浏览器与服务器之间的接口请求与响应？

#### 知识
浏览器与服务器端数据通信使用的是HTTP或HTTPS协议，我们需要详细的了解HTTP协议。由此我整理了一个[HTTP tree](./assets/HTTP-tree.md)。

#### 程序设计
我们需要实现一个HTTP服务器，可以灵活的配置返回数据。
我们还需一个客户端请求，使用一个HTTP的nodejs包可以实现。

#### 注意事项
这部分内容其实很多很多，最关键的是HTTP协议，包括数据流传输方式、缓存、主动推送等等。
我觉得我应该完整的掌握HTTP协议，并且可以写出示例代码。

## 2、把请求回来的 HTML 代码经过解析，构建成 DOM 树
#### 需求
将服务端响应解析为DOM树

#### 知识
服务端的响应

---

待办事项
- [ ] 浏览器的更完整的渲染过程
- [ ] 更进一步如何对web应用进行全方面的性能优化
- [ ] 补全HTTP tree
- [ ] 完整的掌握HTTP协议
- [ ] 写各种demo实现协议中可以使用的点
- [ ] 思考从HTTP协议上如何优化网页性能


参考资料
- [一文看懂Chrome浏览器工作原理-译文](https://juejin.im/post/6844904046411644941)
- [一文看懂Chrome浏览器工作原理](https://developers.google.com/web/resources/contributors/kosamari)
- [浏览器的工作原理：新式网络浏览器幕后揭秘](https://www.html5rocks.com/zh/tutorials/internals/howbrowserswork/)


